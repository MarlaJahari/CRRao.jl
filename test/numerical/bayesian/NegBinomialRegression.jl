sanction = dataset("Zelig", "sanction")

tests = Any[(Prior_Ridge(), Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [2.033532670737515, -1.1008734267536047, 0.001094208900534297, 1.060343992060707, -0.15786110457055455, 1.294586610685846, 0.15899662938152478], [0.4163550751663772, 0.5387551190744174, 0.16359849394901196, 0.13063067998997502, 0.544934602163948, 0.32163155599374066, 0.2913315443767893], [0.013166303528963611, 0.017036932773503852, 0.005173438626521523, 0.004130904810649026, 0.01723234518675796, 0.010170882843242014, 0.009212712344850738], [0.014431455186184227, 0.03490924087544598, 0.009539762615352351, 0.0073586244671434336, 0.021416158364498575, 0.01198412587278611, 0.014298748706220573], [602.6988983631668, 216.89217370373092, 304.5593788325469, 370.31036525954903, 884.5494839344138, 734.19899146768, 426.85611276244776], [1.002775324101858, 0.9992263257947018, 0.9994528685133326, 0.9994210232935488, 1.003293315238965, 1.001588120186786, 0.9990330235591159]], Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [1.3742199064673777, -2.175983136461368, -0.30259410067029413, 0.7923410749555616, -1.15266343803402, 0.672379511751853, -0.4258618187125221], [1.7265399691843968, -1.4541340765262998, -0.10872569260603446, 0.9727621430991229, -0.5149821997350503, 1.0801074847361716, -0.037437662518782916], [2.005693417620672, -1.0943526473814809, -0.000546879754740031, 1.0539332226347504, -0.16705533382365337, 1.2829999691714682, 0.14966780918655453], [2.268622687911495, -0.7251137172909272, 0.11031113525265579, 1.1496722819927512, 0.1969711534261444, 1.5037143547105631, 0.348429895713112], [2.9703506336490832, -0.08494604869249095, 0.3230954997804491, 1.3158628734694895, 1.0098639187508067, 1.93531136556599, 0.7325450182444838]], [22.79273367298059, 10.581746802932752, 0.9868233460913254, 0.9868233460913254, 0.9868233460913254, 0.9868233460913254, 2.7991113722871277, 0.9868233460913254, 3.3499195503093064, 2.826332963271958, 1.1542620442281972, 0.9815462363508761, 8.219200484970807, 7.82639187571211, 30.428512082599703, 1.1542620442281972, 23.938664799345837, 8.233047699978815, 1.161395545692532, 30.41157292698473, 24.39047761169405, 1.1542620442281972, 0.9860663773398379, 1.1542620442281972, 1.161395545692532, 8.117616872689192, 0.9815462363508761, 0.9815462363508761, 1.1542620442281972, 88.52228560524662, 1.1542620442281972, 1.1542620442281972, 1.161395545692532, 1.1542620442281972, 2.8454233856755087, 10.157057954781452, 1.1542620442281972, 1.161395545692532, 1.1542620442281972, 2.826332963271958, 2.7991113722871277, 2.826332963271958, 0.9868233460913254, 2.826332963271958, 1.161395545692532, 1.1542620442281972, 0.9868233460913254, 3.3499195503093064, 1.1775395155173547, 1.1542620442281972, 0.9815462363508761, 0.9868233460913254, 1.161395545692532, 1.161395545692532, 1.1542620442281972, 0.9815462363508761, 2.7991113722871277, 2.826332963271958, 2.826332963271958, 30.428512082599703, 9.856135877709901, 3.7446412244441656, 31.262232059339293, 3.3444210972984827, 8.233047699978815, 3.3499195503093064, 30.41157292698473, 0.9815462363508761, 0.9815462363508761, 8.219200484970807, 10.581746802932752, 3.3444210972984827, 8.219200484970807, 3.3499195503093064, 0.9868233460913254, 24.39047761169405, 1.1542620442281972, 8.219200484970807]), (Prior_Laplace(), Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [2.115746221467821, -1.0085304000322868, -0.024793873457989956, 1.052113237721877, -0.15281078410963092, 1.2861727977860324, 0.1315838275502168], [0.444317146572935, 0.5100779372829306, 0.1553736410579891, 0.1304886934336986, 0.5179422166029028, 0.309602715205377, 0.2633892721176925], [0.014050541866373516, 0.01613008066014579, 0.004913345940966994, 0.004126414801499454, 0.016378771008214516, 0.009790497498214368, 0.00832910011145789], [0.015400959156496571, 0.025035928984897454, 0.006364771418099774, 0.0055499273853244074, 0.01830633553491673, 0.011305558519001072, 0.011398283738992612], [961.8068296426745, 289.31286847687977, 476.0465737689456, 342.31076761645255, 630.1413205466191, 576.8927212725212, 491.5701088764228], [0.9990471284728348, 1.0107782460910208, 1.0043226381063586, 1.0074870099846636, 1.0001792540353789, 1.0023363596066366, 1.0014486571509589]], Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [1.3969677082291738, -2.043238449153774, -0.323027333075843, 0.8076640531959224, -1.188833586544745, 0.6786523733746004, -0.37860471700737597], [1.807381901702506, -1.3326115352982049, -0.12809131953879602, 0.9677356465114804, -0.47381777630050265, 1.0819399486140817, -0.04624922600317495], [2.0634599193289462, -0.9807961456616323, -0.02712304511261301, 1.0496005995125035, -0.1479827274420805, 1.3002939367043198, 0.1338983900276345], [2.3653463693004424, -0.6652948960508089, 0.07414104647607792, 1.1381081154967263, 0.17431616834199476, 1.4829897153823994, 0.3185535020128706], [3.127242300236061, -0.03973942674928191, 0.28483293811265603, 1.3185939448386965, 0.8939989411810966, 1.8837588853277827, 0.6422300764476048]], [21.842690660989987, 10.491546187713833, 1.0011451666062938, 1.0011451666062938, 1.0011451666062938, 1.0011451666062938, 2.890144338154678, 1.0011451666062938, 3.4080264307792745, 2.8284473607497103, 1.1547110091441486, 1.0271423234863155, 8.611185000528977, 7.598607755677235, 30.555180941984126, 1.1547110091441486, 24.03386299433781, 8.126239707409537, 1.1995833289780449, 29.709135849004653, 23.744012407689187, 1.1547110091441486, 1.0027984444927398, 1.1547110091441486, 1.1995833289780449, 8.266130906904573, 1.0271423234863155, 1.0271423234863155, 1.1547110091441486, 87.5462865243563, 1.1547110091441486, 1.1547110091441486, 1.1995833289780449, 1.1547110091441486, 3.022737232740915, 9.48764259140515, 1.1547110091441486, 1.1995833289780449, 1.1547110091441486, 2.8284473607497103, 2.890144338154678, 2.8284473607497103, 1.0011451666062938, 2.8284473607497103, 1.1995833289780449, 1.1547110091441486, 1.0011451666062938, 3.4080264307792745, 1.1373216235463561, 1.1547110091441486, 1.0271423234863155, 1.0011451666062938, 1.1995833289780449, 1.1995833289780449, 1.1547110091441486, 1.0271423234863155, 2.890144338154678, 2.8284473607497103, 2.8284473607497103, 30.555180941984126, 9.544961497151702, 3.765320320205483, 32.175303131378584, 3.29313752935312, 8.126239707409537, 3.4080264307792745, 29.709135849004653, 1.0271423234863155, 1.0271423234863155, 8.611185000528977, 10.491546187713833, 3.29313752935312, 8.611185000528977, 3.4080264307792745, 1.0011451666062938, 23.744012407689187, 1.1547110091441486, 8.611185000528977]), (Prior_Cauchy(), Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [2.0094006753134614, -1.0783031426860985, -0.007705360287027346, 1.0620737628858798, -0.1812239028434507, 1.2692785063041105, 0.155129494580377], [0.4379896498266224, 0.5491547015430198, 0.17018886483370643, 0.13403452182255737, 0.5430608937059215, 0.33021531538419435, 0.29505967953267775], [0.013850448850316993, 0.017365796446659254, 0.0053818444527304575, 0.004238543740508243, 0.017173093322773104, 0.010442325148848935, 0.00933060633002628], [0.016872252943793242, 0.025354657993944905, 0.00746806213280935, 0.0051535535028907785, 0.02393001647449409, 0.012757875676477548, 0.010641853088864171], [690.8506091769896, 373.3703249467553, 431.5667749484194, 498.3356369486145, 653.5156470425236, 624.9935891560417, 548.9335531347931], [1.0027797445897022, 0.9999898825167862, 0.9990525312059492, 0.9998523207814394, 1.0022328688644628, 0.9991333381239279, 1.0019497196850409]], Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [1.3394772056828173, -2.2001256961692923, -0.35580170491940927, 0.7906954835353238, -1.1899147594024528, 0.6384303792826728, -0.4274674043247846], [1.7025225426545096, -1.4241588808445835, -0.12202244637089002, 0.9789277116335982, -0.5662493688105141, 1.0495414572754527, -0.03879200034653152], [1.9367619301819505, -1.065136645302255, -0.002633962413880985, 1.060632718577568, -0.17983002223861852, 1.2672791516544284, 0.16758836074064803], [2.2640235306574343, -0.7256132060985478, 0.09459333651920342, 1.1385680750483327, 0.17779453374201154, 1.4883818477425885, 0.3464778569496805], [3.057737899656964, -0.006623806948886378, 0.32295299904721136, 1.333641513870227, 0.946710195102903, 1.9266408837311144, 0.7206483837080544]], [22.44717103779297, 10.319228041262255, 0.9987792933865607, 0.9987792933865607, 0.9987792933865607, 0.9987792933865607, 2.842170470596133, 0.9987792933865607, 3.3819183857181865, 2.8597528726343566, 1.1608166788581393, 0.9957664631574421, 8.428030099171059, 7.632118386749569, 29.818061558499185, 1.1608166788581393, 24.53994278807742, 8.348811755718236, 1.1689900378544236, 29.711147760604263, 24.860447872502753, 1.1608166788581393, 0.9492660142596131, 1.1608166788581393, 1.1689900378544236, 8.27007414233827, 0.9957664631574421, 0.9957664631574421, 1.1608166788581393, 87.19076679479595, 1.1608166788581393, 1.1608166788581393, 1.1689900378544236, 1.1608166788581393, 2.9063585746581633, 10.270256454457671, 1.1608166788581393, 1.1689900378544236, 1.1608166788581393, 2.8597528726343566, 2.842170470596133, 2.8597528726343566, 0.9987792933865607, 2.8597528726343566, 1.1689900378544236, 1.1608166788581393, 0.9987792933865607, 3.3819183857181865, 1.1865826824678183, 1.1608166788581393, 0.9957664631574421, 0.9987792933865607, 1.1689900378544236, 1.1689900378544236, 1.1608166788581393, 0.9957664631574421, 2.842170470596133, 2.8597528726343566, 2.8597528726343566, 29.818061558499185, 9.973453566855094, 3.6524334697813887, 30.803655610368335, 3.37023484214091, 8.348811755718236, 3.3819183857181865, 29.711147760604263, 0.9957664631574421, 0.9957664631574421, 8.428030099171059, 10.319228041262255, 3.37023484214091, 8.428030099171059, 3.3819183857181865, 0.9987792933865607, 24.860447872502753, 1.1608166788581393, 8.428030099171059]), (Prior_TDist(), Any[[:λ, :ν, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [2.0087719694553687, 21.723275693420824, -1.0603921001593168, -0.010924319629375132, 1.0600743746499357, -0.1634507701019323, 1.2760358018944278, 0.14557727248579977], [0.4446447126783473, 116.42274238472413, 0.531067626707303, 0.1620199929418242, 0.1326168843545378, 0.5339791617887503, 0.32390556202381326, 0.2862001074655926], [0.014060900416147255, 3.6816103737875143, 0.016793832919751443, 0.005123522041805692, 0.004193714107554884, 0.016885903743200016, 0.010242793227921881, 0.009050442061762328], [0.01605445478715455, 4.961877300696243, 0.02831790516476742, 0.0067552225285367655, 0.007067754891635842, 0.01872517183364512, 0.011873094559665483, 0.0133077673654027], [819.9421245254008, 685.3525710037665, 397.19432125080925, 654.7909396750151, 449.7488717454727, 724.3697728075905, 679.5304341742395, 500.77239239509476], [0.9990368321033383, 0.9995653821717136, 0.9997445947372637, 1.000517502273653, 0.9991786134068427, 0.9996177674531592, 1.000636310505041, 0.9990501701578075]], Any[[:λ, :ν, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [1.2837905529917615, 0.7203252535266488, -2.149810581006366, -0.319788405453442, 0.8079664719974506, -1.2265146036926224, 0.6212524898928934, -0.408416016229353], [1.6993426359690689, 1.9769876463017635, -1.4146112246971934, -0.12532881163621012, 0.9687717024448896, -0.5193544500929852, 1.04505406362882, -0.045256638937736626], [1.9650987632190473, 4.083024369067694, -1.0534054294621176, -0.002443792483762963, 1.0537583972651654, -0.16215077893969831, 1.2791591389112904, 0.14767021168402764], [2.2593685437401616, 10.19539229783917, -0.6975867389771262, 0.10267802408068039, 1.1518706296379464, 0.2064377554331681, 1.4909090759519856, 0.3432861540904206], [3.0105124565709627, 152.7864572123769, -0.015001656391347972, 0.3045962016975492, 1.3260649089201337, 0.8424151065435916, 1.895481816031963, 0.7080391441764226]], [22.868551319938586, 10.440144030915276, 1.0001050617674667, 1.0001050617674667, 1.0001050617674667, 1.0001050617674667, 2.8504912276208865, 1.0001050617674667, 3.381558276817852, 2.8500393924113503, 1.153067791965224, 1.0038952115282747, 8.431981355434884, 7.80783734785889, 30.12068876394059, 1.153067791965224, 24.216161207667284, 8.265613125155644, 1.1771070811690556, 29.789719201218308, 24.39851693816913, 1.153067791965224, 0.9770233828571585, 1.153067791965224, 1.1771070811690556, 8.235836915150063, 1.0038952115282747, 1.0038952115282747, 1.153067791965224, 87.11980168589733, 1.153067791965224, 1.153067791965224, 1.1771070811690556, 1.153067791965224, 2.9293181072099186, 9.891132830872701, 1.153067791965224, 1.1771070811690556, 1.153067791965224, 2.8500393924113503, 2.8504912276208865, 2.8500393924113503, 1.0001050617674667, 2.8500393924113503, 1.1771070811690556, 1.153067791965224, 1.0001050617674667, 3.381558276817852, 1.1603023629571954, 1.153067791965224, 1.0038952115282747, 1.0001050617674667, 1.1771070811690556, 1.1771070811690556, 1.153067791965224, 1.0038952115282747, 2.8504912276208865, 2.8500393924113503, 2.8500393924113503, 30.12068876394059, 9.755539734710318, 3.722235779454324, 31.31207219583962, 3.3248470138380726, 8.265613125155644, 3.381558276817852, 29.789719201218308, 1.0038952115282747, 1.0038952115282747, 8.431981355434884, 10.440144030915276, 3.3248470138380726, 8.431981355434884, 3.381558276817852, 1.0001050617674667, 24.39851693816913, 1.153067791965224, 8.431981355434884]), (Prior_HorseShoe(), Any[[:τ, Symbol("λ[1]"), Symbol("λ[2]"), Symbol("λ[3]"), Symbol("λ[4]"), Symbol("λ[5]"), Symbol("λ[6]"), :σ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.483786620596649, 1.5986905492247214, 0.5508274700957052, 2.0959637999518836, 0.9183200740843477, 2.5238657501534636, 0.7962819546787253, 2.3691793234731193, -0.6990501683431439, -0.0674612135309848, 0.9701272232022963, -0.08384998478488265, 1.2783670836495966, -0.0028303059336937655], [0.41570310079187767, 2.651366645349281, 0.838168013097675, 2.2973650164164487, 1.2789961782913062, 3.4791470759277994, 3.1672086220206244, 0.5404781363671292, 0.4639917239597129, 0.12207610212519049, 0.14174156007880664, 0.3659664397899759, 0.3109690414857972, 0.21097832706147265], [0.013145686288968788, 0.0838435751150361, 0.02650519983286495, 0.07264906068666098, 0.040445410420513306, 0.1100202907464662, 0.10015593070508497, 0.017091419364432116, 0.014672706631808134, 0.003860385305909235, 0.004482261689546243, 0.01157287496919197, 0.009833704528945105, 0.006671720504461928], [0.03076814097992791, 0.1407738213076522, 0.03417388758017726, 0.12749588093226225, 0.06309745518878328, 0.17552486202496853, 0.10307037300119179, 0.03348456496503327, 0.04033620085278141, 0.00839807718114376, 0.012867977700923135, 0.020138089826848768, 0.019261432609853118, 0.01687369599505406], [173.31045963334964, 419.8568476410847, 585.4781942372799, 359.7625661457261, 447.99045071256523, 369.0943640222232, 906.7497800709648, 160.72063130754063, 74.1265473960382, 157.2104857615693, 45.99951512245347, 289.656943741451, 190.03380786044204, 95.88758402073437], [1.008586386643551, 1.001680635939159, 1.0001792710396824, 1.0204726779586601, 1.0009508844051853, 1.0008817663535174, 0.9990107016214629, 1.0115805615849451, 1.0119025875295011, 1.0020719613471838, 1.027906815718671, 1.0191520223492285, 1.0033131747370314, 1.0064571942443485]], Any[[:τ, Symbol("λ[1]"), Symbol("λ[2]"), Symbol("λ[3]"), Symbol("λ[4]"), Symbol("λ[5]"), Symbol("λ[6]"), :σ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.0879132559104437, 0.02272992865252697, 0.016235651218988324, 0.28179505227408297, 0.056242892265388506, 0.30471229796552013, 0.024123688404333567, 1.5714668301805017, -1.6117972082419643, -0.2997608425581325, 0.7268232106802072, -0.9418887338243984, 0.6108311837787762, -0.39374551241564903], [0.22948490463004165, 0.4535992517761649, 0.1228906430141093, 0.9144824133802856, 0.2805067284591811, 0.9295863040493483, 0.19819553235635834, 1.9488971458464877, -1.021861515628415, -0.1666349727548549, 0.8656820836285701, -0.2719684482985677, 1.070825543503204, -0.14481934830982918], [0.36785818810953524, 0.9371401740149127, 0.27419384946567404, 1.53194630271277, 0.5363014098422563, 1.5167656554247317, 0.3461811422549832, 2.3024881817435334, -0.7054320836765846, -0.05568721646207244, 0.9770067760725092, -0.023391395633436014, 1.2935670573862423, -0.0028965664930731758], [0.5927359925543, 1.8602866126590303, 0.6572244562232121, 2.351687496915953, 1.02029536613816, 2.8306131662631415, 0.8242037711517243, 2.6799226776591545, -0.3626126522222903, 0.0150106821339136, 1.075483610180145, 0.10723133228500162, 1.5336144841403705, 0.11298798958521726], [1.4404394961243625, 6.611561426483248, 2.559391219680263, 7.902748325606516, 4.5209581237116145, 10.319671223410523, 3.195924619988728, 3.6984732763226225, 0.033226755656417, 0.16380669199911826, 1.2406160762931457, 0.618729765736739, 1.8015883095816219, 0.4377901201309121]], [19.46155820624762, 10.544030922575217, 1.0886040813497553, 1.0886040813497553, 1.0886040813497553, 1.0886040813497553, 3.045675769175994, 1.0886040813497553, 3.283356150048255, 2.8460559906783947, 1.1585753212392926, 1.1712213062933943, 8.734823072901838, 7.230400555060172, 29.605225878317622, 1.1585753212392926, 21.84688514688772, 7.587489486009885, 1.254155430192451, 27.488606803384343, 20.628145554071107, 1.1585753212392926, 1.1470792372546168, 1.1585753212392926, 1.254155430192451, 8.07711979500573, 1.1712213062933943, 1.1712213062933943, 1.1585753212392926, 78.2811001521038, 1.1585753212392926, 1.1585753212392926, 1.254155430192451, 1.1585753212392926, 3.3104687432518154, 7.752897380727241, 1.1585753212392926, 1.254155430192451, 1.1585753212392926, 2.8460559906783947, 3.045675769175994, 2.8460559906783947, 1.0886040813497553, 2.8460559906783947, 1.254155430192451, 1.1585753212392926, 1.0886040813497553, 3.283356150048255, 1.0871253614679324, 1.1585753212392926, 1.1712213062933943, 1.0886040813497553, 1.254155430192451, 1.254155430192451, 1.1585753212392926, 1.1712213062933943, 3.045675769175994, 2.8460559906783947, 2.8460559906783947, 29.605225878317622, 8.178983312111075, 4.122467598628785, 32.385867591624624, 3.0483401828981678, 7.587489486009885, 3.283356150048255, 27.488606803384343, 1.1712213062933943, 1.1712213062933943, 8.734823072901838, 10.544030922575217, 3.0483401828981678, 8.734823072901838, 3.283356150048255, 1.0886040813497553, 20.628145554071107, 1.1585753212392926, 8.734823072901838])]

for (prior, test_summaries, test_quantiles, prediction) in tests
    CRRao.set_rng(StableRNG(123))
    model = fit(@formula(Num ~ Target + Coop + NCost), sanction, NegBinomRegression(), prior)

    #Split summaries and quantiles into symbols and numbers for testing equality/approximate equality. 
    model_summaries, model_quantiles = describe(model.chain)
    (model_summaries_symbols, model_summaries_nums...) = model_summaries.nt
    (model_quantiles_symbols, model_quantiles_nums...) = model_quantiles.nt
    (test_summaries_symbols, test_summaries_nums...) = test_summaries
    (test_quantiles_symbols, test_quantiles_nums...) = test_quantiles

    @test model_summaries_symbols == test_summaries_symbols
    for i in eachindex(test_summaries_nums)
        @test model_summaries_nums[i] ≈ test_summaries_nums[i]
    end
    @test model_quantiles_symbols == test_quantiles_symbols
    for i in eachindex(test_quantiles_nums)
        @test model_quantiles_nums[i] ≈ test_quantiles_nums[i]
    end
    @test predict(model, sanction) ≈ prediction
end