sanction = dataset("Zelig", "sanction")

tests = Any[(Prior_Ridge(), Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [1.3067355124808628, -1.7954059749747433, 0.13870508581663504, 1.132672650912545, -0.3230226254890309, 1.6961069878731383, 0.4040934806525153], [0.4614039269326491, 0.26419939247668656, 0.0647018311785362, 0.053776834986465266, 0.21787467900038635, 0.09787869641571813, 0.17152327089322514], [0.014590873304530794, 0.008354718366590836, 0.0020460515530787097, 0.0017005728391226043, 0.006889802301192785, 0.0030951961508182825, 0.0054240420774465505], [0.01871690390962484, 0.011620805404522002, 0.0026305344136758114, 0.0017342537293233637, 0.0074605971524898725, 0.0035923042932088766, 0.00679616817854052], [619.3195104907477, 469.7098689166608, 654.1981009374941, 653.9281928445064, 743.3957668492883, 756.8071703770736, 571.0009720394023], [0.9991115724440814, 0.9998897845270931, 0.9993031733036035, 0.999156937816046, 0.9993742025190981, 1.0001716809567045, 0.9999124380372408]], Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.7430805999719338, -2.3067840819125744, 0.01818168714064058, 1.0273407587119676, -0.7490673060518834, 1.5116259197150497, 0.06650544634166763], [1.017569881068573, -1.98066750880261, 0.09392079052310581, 1.0957473832092117, -0.4673728608720386, 1.6289650440232362, 0.28674251307250215], [1.2106146494360046, -1.7938907557472878, 0.13753095337725246, 1.1308746547270807, -0.330340868422352, 1.6943475333226017, 0.40309588096574855], [1.5134914052709998, -1.6063738466767394, 0.17945040914394927, 1.1686700823778648, -0.17085185388087332, 1.7634477002647562, 0.5241631330970231], [2.5468976201850846, -1.2935674619852482, 0.2708563179367638, 1.2393743511934436, 0.10058179866453396, 1.8955129099794932, 0.7363453461562143]], [17.245248953660397, 13.311751426697569, 0.7896838153702627, 0.7896838153702627, 0.7896838153702627, 0.7896838153702627, 2.12053910182601, 0.7896838153702627, 2.7850411549518532, 2.4383419963049704, 1.0317165509592108, 0.6871403194669483, 5.726972543900231, 5.5635753559745, 35.812094002539254, 1.0317165509592108, 20.372646447765263, 7.550841195909681, 0.8991514152598765, 41.229119045715755, 23.451157821412178, 1.0317165509592108, 0.5097363604555566, 1.0317165509592108, 0.8991514152598765, 6.5631217677795926, 0.6871403194669483, 0.6871403194669483, 1.0317165509592108, 111.18286607951553, 1.0317165509592108, 1.0317165509592108, 0.8991514152598765, 1.0317165509592108, 1.8513268747837672, 11.45915744277437, 1.0317165509592108, 0.8991514152598765, 1.0317165509592108, 2.4383419963049704, 2.12053910182601, 2.4383419963049704, 0.7896838153702627, 2.4383419963049704, 0.8991514152598765, 1.0317165509592108, 0.7896838153702627, 2.7850411549518532, 1.1884452394700504, 1.0317165509592108, 0.6871403194669483, 0.7896838153702627, 0.8991514152598765, 0.8991514152598765, 1.0317165509592108, 0.6871403194669483, 2.12053910182601, 2.4383419963049704, 2.4383419963049704, 35.812094002539254, 9.937429242768149, 4.3105415268705265, 31.22892166356205, 3.1972595300758626, 7.550841195909681, 2.7850411549518532, 41.229119045715755, 0.6871403194669483, 0.6871403194669483, 5.726972543900231, 13.311751426697569, 3.1972595300758626, 5.726972543900231, 2.7850411549518532, 0.7896838153702627, 23.451157821412178, 1.0317165509592108, 5.726972543900231]), (Prior_Laplace(), Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [1.0888252727330223, -1.782080185238893, 0.13456105113029324, 1.1312036086482693, -0.30316421714121766, 1.6986047806598152, 0.38367684114091644], [0.5555082890626037, 0.2695428820905915, 0.061288152460673054, 0.05729860959424446, 0.22433602212756018, 0.09865943587804131, 0.1743044803004579], [0.017566714525410303, 0.008523694344924771, 0.0019381015535938008, 0.0018119411307858883, 0.007094127911450228, 0.0031198853004194473, 0.005511991641213973], [0.029931482003684326, 0.013443644126305387, 0.0025277377413849907, 0.0024548679823840616, 0.007950017207285649, 0.003550593880131961, 0.006934713798792591], [479.82536735342677, 462.26933474481797, 677.6547976263736, 539.8119755466021, 665.6348217856375, 701.9176666520717, 605.4188230505955], [1.000074934722703, 0.9996429462777557, 0.9991893260321387, 0.9992658354239561, 1.0004111000100226, 0.9990987140685751, 1.0001144267067672]], Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.44865453775249403, -2.304353969906118, 0.021589286831732342, 1.0106735073434576, -0.7411507269413906, 1.5121596698382997, 0.04858622605792693], [0.7271218825590415, -1.9713893944056105, 0.09385245665903966, 1.093116567444, -0.44910977368818245, 1.6303044063730556, 0.26717149390086087], [0.9566760169266957, -1.7766733367214107, 0.13023719150783974, 1.1321172031283349, -0.29800014947182, 1.6943709390480433, 0.38967878505539727], [1.2873214792388656, -1.5968341823131058, 0.17501636886428723, 1.1708322791428094, -0.14887705786570657, 1.7690330045519063, 0.4972724210725685], [2.4803736464388297, -1.291158662733538, 0.26121469038699624, 1.2403796364854927, 0.11485651337922298, 1.8982240516812845, 0.7220512385476486]], [17.484678547316634, 13.295098408142184, 0.7896543058939538, 0.7896543058939538, 0.7896543058939538, 0.7896543058939538, 2.129223010979156, 0.7896543058939538, 2.7437050611812768, 2.4318625437465324, 1.0125684553182555, 0.691836402029775, 5.774672537531026, 5.649930537320182, 35.9210519676848, 1.0125684553182555, 20.368339810433362, 7.514104158670199, 0.88808352064814, 41.08142979004255, 23.293830891892487, 1.0125684553182555, 0.5231790965298502, 1.0125684553182555, 0.88808352064814, 6.5746885246409414, 0.691836402029775, 0.691836402029775, 1.0125684553182555, 111.28724937333823, 1.0125684553182555, 1.0125684553182555, 0.88808352064814, 1.0125684553182555, 1.8713722988578738, 11.12750582288208, 1.0125684553182555, 0.88808352064814, 1.0125684553182555, 2.4318625437465324, 2.129223010979156, 2.4318625437465324, 0.7896543058939538, 2.4318625437465324, 0.88808352064814, 1.0125684553182555, 0.7896543058939538, 2.7437050611812768, 1.1589837396262206, 1.0125684553182555, 0.691836402029775, 0.7896543058939538, 0.88808352064814, 0.88808352064814, 1.0125684553182555, 0.691836402029775, 2.129223010979156, 2.4318625437465324, 2.4318625437465324, 35.9210519676848, 9.709023564040207, 4.316965512645076, 31.530308041380966, 3.1303840462813852, 7.514104158670199, 2.7437050611812768, 41.08142979004255, 0.691836402029775, 0.691836402029775, 5.774672537531026, 13.295098408142184, 3.1303840462813852, 5.774672537531026, 2.7437050611812768, 0.7896543058939538, 23.293830891892487, 1.0125684553182555, 5.774672537531026]), (Prior_Cauchy(), Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.8432563483359017, -1.7879628364650586, 0.1374106559392725, 1.129915036973116, -0.29650651779982007, 1.7035697023256682, 0.3928245538219577], [0.41909706946215824, 0.25309711177909666, 0.06400646975854091, 0.05578593937969586, 0.22035352337749553, 0.09733114457955845, 0.17054832493252745], [0.013253013002022184, 0.008003633424321765, 0.0020240622942367687, 0.0017641062985191967, 0.006968190243160448, 0.0030778810414255633, 0.005393211579132693], [0.016953171211038787, 0.01174900047684856, 0.002689095185045693, 0.0017734606855979097, 0.010627781162373347, 0.004273005800552253, 0.006843495890128291], [651.9481080312149, 440.1547934717755, 596.1778150025469, 747.2076712139942, 526.3279714466322, 600.4246078288855, 754.6818785327301], [1.0030492250086989, 1.001168570921669, 0.9992004482892144, 1.000861090846347, 1.0032430281496794, 0.9991869974731975, 1.000966324026003]], Any[[:λ, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.31014610589196046, -2.3022676465505696, 0.028171006166323245, 1.013079692367877, -0.7700546499181705, 1.5158774906507357, 0.07382004975923198], [0.5455551489732104, -1.9534912641951072, 0.09202787114767773, 1.092458656679483, -0.4356059996870344, 1.638757409528644, 0.26324600661543407], [0.7597993984189138, -1.7796923976412657, 0.1354607143376792, 1.1302730936840093, -0.2756712804365907, 1.7020382365146145, 0.38810829008278047], [1.0487507199056962, -1.6128705715468121, 0.17935540403160175, 1.168017066966444, -0.1447548608328002, 1.7689163936418177, 0.5176497811230387], [1.8316402545784098, -1.3056162898792056, 0.26702753990894257, 1.2367681630069634, 0.10445248709803956, 1.904594282611776, 0.7229906436586251]], [17.68253269448554, 13.341355721102438, 0.7872935257829465, 0.7872935257829465, 0.7872935257829465, 0.7872935257829465, 2.1154323305296523, 0.7872935257829465, 2.76400165437605, 2.428069089159998, 1.022642112029461, 0.6860523282973718, 5.723512155462378, 5.7091958608314, 35.92148779091325, 1.022642112029461, 20.30806208406103, 7.51241191137519, 0.8931938831184956, 41.27059816089039, 23.31770041392249, 1.022642112029461, 0.5247247463375051, 1.022642112029461, 0.8931938831184956, 6.543925963975693, 0.6860523282973718, 0.6860523282973718, 1.022642112029461, 111.45677741606845, 1.022642112029461, 1.022642112029461, 0.8931938831184956, 1.022642112029461, 1.8505428773380381, 11.302574208415404, 1.022642112029461, 0.8931938831184956, 1.022642112029461, 2.428069089159998, 2.1154323305296523, 2.428069089159998, 0.7872935257829465, 2.428069089159998, 0.8931938831184956, 1.022642112029461, 0.7872935257829465, 2.76400165437605, 1.1756278802050224, 1.022642112029461, 0.6860523282973718, 0.7872935257829465, 0.8931938831184956, 0.8931938831184956, 1.022642112029461, 0.6860523282973718, 2.1154323305296523, 2.428069089159998, 2.428069089159998, 35.92148779091325, 9.82814145292989, 4.32672400932812, 31.39333924959079, 3.1651580170028404, 7.51241191137519, 2.76400165437605, 41.27059816089039, 0.6860523282973718, 0.6860523282973718, 5.723512155462378, 13.341355721102438, 3.1651580170028404, 5.723512155462378, 2.76400165437605, 0.7872935257829465, 23.31770041392249, 1.022642112029461, 5.723512155462378]), (Prior_TDist(), Any[[:λ, :ν, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.953884798518609, 2.7017760271822078, -1.7913072588057293, 0.1367519414951278, 1.1321623966997703, -0.31482132767086696, 1.7000672944137882, 0.3909028931445429], [0.3967763254286206, 3.430310958175883, 0.25039250919614026, 0.06497253841251495, 0.053588074364339155, 0.23166579743429272, 0.10173252243175632, 0.16814544933847933], [0.012547169099866258, 0.10847595710470383, 0.007918106381044598, 0.0020546120674632793, 0.0016946037041379153, 0.0073259157585155695, 0.003217064829985215, 0.0053172259810204715], [0.013836082701058294, 0.15034943395296224, 0.012969112309019998, 0.003044310483049397, 0.0026297938323265936, 0.00798335475783419, 0.003879000453961539, 0.006822185906328588], [724.4593409228995, 473.2383119410697, 301.78216801210783, 512.6922130491082, 349.4068617451352, 824.9216291870605, 661.7511069257234, 459.09074598655667], [0.9991134489152359, 1.0014123486231028, 0.9992363887579946, 0.9997622068306613, 0.9994534361072958, 0.9993358016930187, 1.0054295895724097, 0.9994185469697733]], Any[[:λ, :ν, Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.3999294904286124, 0.5493636648646881, -2.2816535226348695, 0.01513556352339144, 1.0321570010023957, -0.76799106734349, 1.5029674844008072, 0.07007747410722058], [0.6705373823206295, 1.1002835405475888, -1.9561376780906943, 0.08908579063322142, 1.0932263163354563, -0.46944011125974894, 1.6251677198954313, 0.27097768763341135], [0.8798862641964159, 1.7737103475799714, -1.7940688750430231, 0.13834019132192094, 1.131029283143731, -0.3019818928371608, 1.7036802156131379, 0.39107462129460946], [1.1535299107039862, 2.937170581265078, -1.62615703649288, 0.17947999772424264, 1.1688369055596206, -0.151918833702819, 1.7682412718932539, 0.5023002384796291], [1.8897657432468875, 9.819382753544879, -1.2766422555543115, 0.261411551277462, 1.2361706358747815, 0.11277013184520428, 1.8936288571171855, 0.7236380302283951]], [17.29131446465525, 13.2837536210769, 0.7865957359744394, 0.7865957359744394, 0.7865957359744394, 0.7865957359744394, 2.1181296567977603, 0.7865957359744394, 2.74793196065243, 2.4306796970083075, 1.0151942958564975, 0.6855574027448028, 5.742012937992229, 5.571607267973855, 35.841480762083386, 1.0151942958564975, 20.38512335200348, 7.531505984564301, 0.8865616533795929, 41.16010853706391, 23.400311679140863, 1.0151942958564975, 0.5095220025905733, 1.0151942958564975, 0.8865616533795929, 6.562052614829212, 0.6855574027448028, 0.6855574027448028, 1.0151942958564975, 111.34401566064489, 1.0151942958564975, 1.0151942958564975, 0.8865616533795929, 1.0151942958564975, 1.8537718622567192, 11.25193982913317, 1.0151942958564975, 0.8865616533795929, 1.0151942958564975, 2.4306796970083075, 2.1181296567977603, 2.4306796970083075, 0.7865957359744394, 2.4306796970083075, 0.8865616533795929, 1.0151942958564975, 0.7865957359744394, 2.74793196065243, 1.16748837444347, 1.0151942958564975, 0.6855574027448028, 0.7865957359744394, 0.8865616533795929, 0.8865616533795929, 1.0151942958564975, 0.6855574027448028, 2.1181296567977603, 2.4306796970083075, 2.4306796970083075, 35.841480762083386, 9.78222529616277, 4.2987405424526175, 31.343113530609187, 3.1470441203863144, 7.531505984564301, 2.74793196065243, 41.16010853706391, 0.6855574027448028, 0.6855574027448028, 5.742012937992229, 13.2837536210769, 3.1470441203863144, 5.742012937992229, 2.74793196065243, 0.7865957359744394, 23.400311679140863, 1.0151942958564975, 5.742012937992229]), (Prior_HorseShoe(), Any[[:τ, Symbol("λ[1]"), Symbol("λ[2]"), Symbol("λ[3]"), Symbol("λ[4]"), Symbol("λ[5]"), Symbol("λ[6]"), Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [1.0967789917748096, 3.1027062788233373, 0.7000564198111766, 2.3943662808683324, 0.9351511329511009, 3.3768027424899207, 1.2450525250035676, -1.7489545553432402, 0.11836132446199116, 1.1296756345880907, -0.22024254534114884, 1.705931821441597, 0.37234655970410785], [0.7202169350247432, 3.885771758149708, 1.3790725152602659, 3.2503526210348106, 1.76519557588437, 6.501365653681186, 2.221816105400464, 0.2760668974306259, 0.07058902334118759, 0.05709199451357014, 0.21173388147742786, 0.1020964849792928, 0.17509124450835925], [0.022775259241036863, 0.12287889223310028, 0.04361010206759755, 0.1027851748116812, 0.05582038535447201, 0.2055912336722201, 0.070259994351102, 0.008730001824568635, 0.0022322209156494183, 0.0018054073882471855, 0.006695613232968095, 0.0032285743363173413, 0.005536871309998639], [0.030872518053353292, 0.1974350435445019, 0.04925919432622714, 0.14367441259655633, 0.0790525628097405, 0.25441246578986465, 0.1224034022084378, 0.012796092170722062, 0.003409000974270503, 0.002481579790034839, 0.006335637686401703, 0.003543927833093899, 0.006338828921011985], [495.78689700653797, 409.1762548330001, 705.5282532838253, 501.7930683500228, 582.3219003864343, 610.2202479297812, 350.12331581099613, 431.89564692265446, 468.3049396731213, 564.1506533540419, 733.3562965807295, 909.1701810116541, 559.1850672892917], [1.0051761262777352, 1.0057825196918535, 0.9990181388731773, 1.0042009796266582, 1.0033681943909318, 1.0001135524347562, 1.0003967028755374, 0.9998141019328814, 0.9991008735684026, 1.0001408225884332, 0.9996589358024219, 0.9993545691655834, 0.9990148551643833]], Any[[:τ, Symbol("λ[1]"), Symbol("λ[2]"), Symbol("λ[3]"), Symbol("λ[4]"), Symbol("λ[5]"), Symbol("λ[6]"), Symbol("β[1]"), Symbol("β[2]"), Symbol("β[3]"), Symbol("β[4]"), Symbol("β[5]"), Symbol("β[6]")], [0.27124050790205306, 0.5268777557066741, 0.025867639874893746, 0.34680976381740053, 0.037408541524227186, 0.4982056010651022, 0.10475327965187459, -2.30068761753827, -0.003999363280164138, 1.0234549719666384, -0.6740939511193187, 1.4991970875116136, 0.03045970588698374], [0.624504186619325, 1.2258390157125636, 0.16879143104311756, 0.8695507121495772, 0.20913050189820462, 1.2213508017743038, 0.36581320616382795, -1.941677584711995, 0.06775426239306573, 1.0904876350928427, -0.3592192031235818, 1.6387447229004901, 0.2485370953390308], [0.8979380245803201, 2.0465221661388098, 0.35839479560272625, 1.4059023440647107, 0.5065221282765369, 1.9924996501870589, 0.6567422968701214, -1.7413899187278088, 0.11520335329286369, 1.1298643642720716, -0.20243004789244728, 1.7050547252918116, 0.37630954017452134], [1.3761893945966346, 3.3299851187351277, 0.7633461678259685, 2.5461572771259506, 0.9705942190034706, 3.403298085354283, 1.2086865350338694, -1.5682587577805607, 0.16841629569969546, 1.166538926535685, -0.05169886323431806, 1.7717660230153416, 0.4911252550411219], [2.9053107557786166, 14.044699394423336, 3.2174383804282214, 12.172115264873115, 4.2828176719793225, 14.6181446899156, 7.285044659230114, -1.2302526249412318, 0.2634386395466623, 1.2456320546742885, 0.13798520861385155, 1.910206508853714, 0.7002336465166198]], [18.609889135251244, 13.142091036898423, 0.7775026323470104, 0.7775026323470104, 0.7775026323470104, 0.7775026323470104, 2.124729594039022, 0.7775026323470104, 2.7452501199379165, 2.3940856401888624, 0.9985156322879616, 0.6903737988094005, 5.849307198698012, 6.010399199367853, 36.00773964289551, 0.9985156322879616, 20.32714133523802, 7.3962267817958764, 0.8886409378063862, 40.60166467065963, 22.92534997806272, 0.9985156322879616, 0.5637138574067625, 0.9985156322879616, 0.8886409378063862, 6.560952872827374, 0.6903737988094005, 0.6903737988094005, 0.9985156322879616, 111.56503763132126, 0.9985156322879616, 0.9985156322879616, 0.8886409378063862, 0.9985156322879616, 1.895138816158316, 10.816857110687872, 0.9985156322879616, 0.8886409378063862, 0.9985156322879616, 2.3940856401888624, 2.124729594039022, 2.3940856401888624, 0.7775026323470104, 2.3940856401888624, 0.8886409378063862, 0.9985156322879616, 0.7775026323470104, 2.7452501199379165, 1.1276668945994828, 0.9985156322879616, 0.6903737988094005, 0.7775026323470104, 0.8886409378063862, 0.8886409378063862, 0.9985156322879616, 0.6903737988094005, 2.124729594039022, 2.3940856401888624, 2.3940856401888624, 36.00773964289551, 9.569598661126454, 4.2680551014469765, 32.093966561018526, 3.086011702493202, 7.3962267817958764, 2.7452501199379165, 40.60166467065963, 0.6903737988094005, 0.6903737988094005, 5.849307198698012, 13.142091036898423, 3.086011702493202, 5.849307198698012, 2.7452501199379165, 0.7775026323470104, 22.92534997806272, 0.9985156322879616, 5.849307198698012])]

for (prior, test_summaries, test_quantiles, prediction) in tests
    CRRao.set_rng(StableRNG(123))
    model = fit(@formula(Num ~ Target + Coop + NCost), sanction, PoissonRegression(), prior)

    #Split summaries and quantiles into symbols and numbers for testing equality/approximate equality. 
    model_summaries, model_quantiles = describe(model.chain)
    (model_summaries_symbols, model_summaries_nums...) = model_summaries.nt
    (model_quantiles_symbols, model_quantiles_nums...) = model_quantiles.nt
    (test_summaries_symbols, test_summaries_nums...) = test_summaries
    (test_quantiles_symbols, test_quantiles_nums...) = test_quantiles

    @test model_summaries_symbols == test_summaries_symbols
    for i in eachindex(test_summaries_nums)
        @test model_summaries_nums[i] ≈ test_summaries_nums[i]
    end
    @test model_quantiles_symbols == test_quantiles_symbols
    for i in eachindex(test_quantiles_nums)
        @test model_quantiles_nums[i] ≈ test_quantiles_nums[i]
    end
    @test predict(model, sanction) ≈ prediction
end